define(["jquery","core/log"],function(a,b){var c,d,e={init:function(e){a(".digicode-digit").bind("mouseover",this.highlight_digit),a("#digicode-panel").bind("mouseout",this.lightoff_digits),a(".digicode-digit").bind("mousedown",this.add_digit),a(".digicode-digit").bind("mouseup",this.release_digits),a("#digicode-input").val(""),e>0?(c=e,d=1,a("#chrono-display").addClass("chrono-countup")):(c=-e,d=-1,a("#chrono-display").addClass("chrono-countdown")),setInterval(this.chronotimer,1e3),b.debug("ADM Digicode initialized")},add_digit:function(){var b=a(this),c=a("#digicode-input").val(),d=a("#digicode-shadow").html();c+=b.html(),d+="*",a("#digicode-input").val(c),a("#digicode-shadow").html(d),b.addClass("active")},highlight_digit:function(){var b=a(this);e.lightoff_digits(),b.addClass("highlighted")},lightoff_digits:function(){a(".digicode-digit").removeClass("highlighted")},release_digits:function(){a(".digicode-digit").removeClass("active")},chronotimer:function(){b.debug(c+" "+d),c+=d;var e,f,g,h=Math.floor(c/3600),i=c-3600*h,j=Math.floor(i/60),k=i-60*j;b.debug(h+" "+i+" "+j+" "+k),e=h<10?"0"+h:h,f=j<10?"0"+j:j,g=k<10?"0"+k:k,a("#chrono-display").html(e+":"+f+":"+g)}};return e});